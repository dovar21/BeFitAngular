<mat-progress-bar mode="indeterminate" *ngIf="isRequesting" class="mat-progress-bar_top"></mat-progress-bar>
<mat-card class="p-0 shadow-none">
    <mat-card-header>
        <mat-card-title class="m-0">{{ title }}</mat-card-title>
    </mat-card-header>
    <mat-card-content class="mb-0">
        <form [formGroup]="form" (ngSubmit)="submit()" #submitForm="ngForm">
            <div class="row">
                <div class="col-12 col-md-6 col-xl-4">
                    <mat-form-field appearance="outline" style="width:500px">
                        <mat-label>Название</mat-label>
                        <input matInput placeholder="Название" formControlName="name" />
                        <mat-error *ngIf="form.get('name').errors?.required">Обязательное поле</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-md-6 col-xl-4">
                    <mat-form-field>
                        <mat-label>Ингредиенты</mat-label>
                        <mat-select formControlName="ingredients" multiple>
                          <mat-option *ngFor="let element of ingredients" [value]="element.id">{{element.name}}</mat-option>
                        </mat-select>
                      </mat-form-field>
                </div>
            </div>
        </form>
    </mat-card-content>
    <mat-card-actions>
        <button
            mat-flat-button
            color="primary"
            type="submit"
            class="btn-lg btn-block m-0"
            (click)="submitForm.ngSubmit.emit()"
            [disabled]="isRequesting"
        >
            <mat-icon class="mat-18">save</mat-icon>Сохранить
        </button>
    </mat-card-actions>
</mat-card>
